DocumentaÃ§Ã£o TÃ©cnica - Website Itaicy Pantanal Eco Lodge
(versÃ£o 1.0 â€“ 29 mai 2025)

1. VisÃ£o geral
Item	DescriÃ§Ã£o
Objetivo	Construir um site institucional capaz de converter visitantes em reservas diretas â€“ tanto de pesca esportiva quanto de ecoturismo â€“ usando um widget prÃ³prio de prÃ©-reserva que abra o motor externo em nova aba jÃ¡ parametrizado.
Escopo	Todo o front-end pÃºblico, o CMS (interface de gestÃ£o de conteÃºdo) e a API que liga o front aos serviÃ§os do Supabase. Fora do escopo: agente de IA, PMS/motor em si, apps nativos.
Stack resumida	Next.js 14 â€¢ React Server Components â€¢ Tailwind (tokens do Design System) â€¢ Supabase (PostgreSQL + Storage + Auth + Edge Functions) â€¢ Vercel (deploy & edge network).
Idiomas	pt-BR (default), en-US, es-ES â€“ seleÃ§Ã£o via sub-diretÃ³rio (/en/â€¦, /es/â€¦).
Prazo contratual	30 dias Ãºteis contados do kick-off + entrega tÃ©cnica (conforme Anexo I-B)

2. Sitemap & Fluxos de navegaÃ§Ã£o
cpp
Copiar
Editar
/
â”œâ”€â”€ lodge
â”‚   â”œâ”€â”€ estrutura
â”‚   â””â”€â”€ historia-sustentabilidade
â”œâ”€â”€ experiencias
â”‚   â”œâ”€â”€ pesca-esportiva
â”‚   â”œâ”€â”€ ecoturismo-birdwatching
â”‚   â””â”€â”€ pacotes-tarifas
â”œâ”€â”€ galeria
â”œâ”€â”€ blog
â”œâ”€â”€ fale-conosco
â””â”€â”€ ğŸŒ lang-switch
Rota â€œreservarâ€ nÃ£o Ã© pÃ¡gina: dispara o booking widget em â€œdrawerâ€ ou â€œsticky barâ€; ao enviar, redireciona para o motor em nova aba com query-string (checkIn, checkOut, adults, children, packageId).

Canonical de cada idioma usa <link rel="alternate" hreflang>.

3. Requisitos Funcionais
#	Funcionalidade	Detalhes
F-01	Widget de reserva	Form 4 campos (check-in, check-out, adultos, crianÃ§as). AutovalidaÃ§Ã£o, calendÃ¡rio responsivo, currency locale, botÃ£o â€œContinuarâ€.
F-02	Galeria dinÃ¢mica	Imagens (WebP/AVIF) e vÃ­deos (MP4) servidos do Supabase Storage; lazy-load & Lightbox.
F-03	Filtros & tags	Pills (Pesca, Natureza, Lodge) alimentam busca em Supabase via Edge Function (full-text).
F-04	Form. multistep	/fale-conosco grava lead em Supabase (leads), dispara e-mail via Supabase Functions (Resend).
F-05	Blog	Rich-text MDX + imagens; slug automÃ¡tico; RSS feed.
F-06	I18n	Textos extraÃ­dos para arquivos JSON no Supabase Bucket i18n; fallback para pt-BR.
F-07	SEO tÃ©cnico	OG/meta tags dinÃ¢micas, sitemap.xml, robots.txt, Schema.org/Hotel & FAQ.

4. Arquitetura
4.1 VisÃ£o em camadas
pgsql
Copiar
Editar
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Front-end UI         â”‚  Next.js-App-Router
â”‚ (SSR + RSC + Client comp) â”‚  Tailwind Design-Tokens
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ API Routes (Server Actions)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Supabase Edge       â”‚  Row Level Security (RLS)
â”‚  - Auth (JWT)             â”‚  PostgREST auto-API
â”‚  - Edge Functions         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     PostgreSQL (DB)       â”‚  Tables: pages, media, packages,
â”‚   Storage (S3-compatible) â”‚  rates, i18n, leads
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
CMS Admin = um â€œback-officeâ€ React (route group /admin) protegido por Supabase Auth (role editor).

Public front nunca expÃµe chaves secretas; usa supabase-js com anon key + RLS.

Edge Functions (TypeScript) tratam lÃ³gica extra: form-submit, contagem de views, cache-invalidation do sitemap.

4.2 Modelo de dados (simplificado)
Tabela	Campos chave	ObservaÃ§Ãµes
pages	id Â· slug Â· title_pt Â· title_en Â· title_es Â· body_pt â€¦	Estrutura headless para conteÃºdos institucionais.
packages	id Â· category (`pesca	eco
bookings_temp	cid (UUID) Â· check_in Â· check_out Â· adults Â· children Â· package_id Â· created_at	Armazena consulta antes de enviar ao motor 3Âº.
media	path Â· alt_pt Â· alt_en Â· alt_es Â· tag	Galeria.
leads	name Â· email Â· phone Â· message Â· origin	Fale Conosco & IA escalonamento.

5. CMS â€“ Interface de GestÃ£o
SeÃ§Ã£o	OperaÃ§Ãµes	PermissÃµes
ConteÃºdo	CRUD Pages (MDX), reorder menÃº, SEO fields	admin, editor
Galeria	Upload arrastar-soltar (compressor WebP), tagging	editor
Pacotes & Tarifas	CRUD + versÃµes	admin
TraduÃ§Ãµes	UI para JSON i18n (chave-valor)	translator
Leads	Visualizar, exportar CSV	admin, sales

ConstruÃ­do com React + shadcn/ui + TanStack Table; chama Supabase via RPC. Live-preview no lado direito usando iframe da rota pÃºblica.

6. InternacionalizaÃ§Ã£o
EstratÃ©gia: sub-paths (/en, /es) com middleware que detecta Accept-Language e cookie.

ConteÃºdos: campos coluna-por-idioma nas tabelas fÃ©rteis (pages, media), strings de UI num bucket i18n/<lang>.json.

RTL: nÃ£o previsto nesta fase; infraestrutura jÃ¡ usa dir dinÃ¢mico.

7. Widget de Reserva â€“ EspecificaÃ§Ã£o
Item	Valor
LanÃ§amento	componente React (BookingWidget.tsx) carregado preguiÃ§osamente, sticky em desktop e barra inferior em mobile.
CalendÃ¡rio	@headlessui/react + Day.js, range picker; bloqueia datas fora da temporada no Supabase Table season_blocks.
ValidaÃ§Ã£o	â€¢ check-in < check-out < 30 dias
â€¢ adultos + crianÃ§as â‰¤ 6
â€¢ alertas toast acessÃ­veis.
AÃ§Ã£o â€œBuscarâ€	1ï¸âƒ£ grava linha em bookings_temp 2ï¸âƒ£ abre https://booking.itaicy.com/?ci=YYYY-MM-DD&co=â€¦&a=â€¦&c=â€¦&pkg=â€¦ em _blank
Eventos	dispara gtag('event','start_booking', {â€¦}) p/ GA4.

8. NÃ£o-funcionais
Categoria	Meta
Performance	LCP â‰¤ 2.5 s, CLS < 0.1, FCP â‰¤ 1.8 s (mÃ©tricas da Web Vitals).
A11y	WCAG 2.2 AA; foco visÃ­vel, ARIA nos componentes interativos.
SeguranÃ§a	HTTPS, CSP estrita, Supabase RLS â€œSELECT owner OR publicâ€, rate-limit Edge Fn.
Backup	Snapshots DB/Storage diÃ¡rios (30-dias); infra pela prÃ³pria Supabase.
CI/CD	Vercel Git-integration; preview em PR; tests Jest + Playwright.

9. Pipeline de Deploy
Merge â†’ GitHub main

Vercel build (Next.js 14)

Post-deploy hook chama Edge Fn revalidate â†’ purga cache de rota ISR & envia webhook para Algolia (busca interna).

Slack notification channel #itaicy-deploys.

10. Cronograma Macro (Dias Ãºteis)
| D0 | Kick-off + coleta de credenciais |
| D+5 | ProtÃ³tipo Figma final (UX/UI) |
| D+12 | Estrutura Supabase + migraÃ§Ãµes |
| D+18 | Front-end MVP (Home, Lodge, ExperiÃªncias) |
| D+22 | IntegraÃ§Ã£o widget de reservas |
| D+26 | ConteÃºdo multilÃ­ngue importado |
| D+28 | Testes & acessibilidade |
| D+30 | Go-Live + hand-off CMS |

(Pontos de controle coincidem com clÃ¡usulas de pagamento e aceite â€“ vide contrato) 

11. Riscos & MitigaÃ§Ãµes
Risco	Impacto	EstratÃ©gia
Atraso no fornecimento de conteÃºdo traduzido	LanÃ§amento multilÃ­ngue	Planejar placeholder + faseâ€in progressivo
AlteraÃ§Ã£o do motor de reservas	Quebra de query-string	Abstrair URL em variÃ¡vel .env + teste regressivo
Conectividade fraca dos hÃ³spedes	Peso do hero-video	Fallback imagem + prefers-reduced-data

12. GlossÃ¡rio de Roles
Perfil	Responsabilidades
Product Owner (Itaicy)	DecisÃµes de negÃ³cio, aprovaÃ§Ã£o de conteÃºdo
Tech Lead (Studio de IA)	Arquitetura, code-review, deploy
UX/UI Designer	Manter biblioteca Figma / Design System
Full-Stack Dev	Implementar pÃ¡ginas, CMS, Edge Fns
Content Editor	Inserir textos, imagens, traduÃ§Ãµes
QA / A11y	Testes funcionais, Lighthouse, WCAG

ConclusÃ£o
Este documento consolida toda a infraestrutura, fluxos, modelo de dados e cronograma necessÃ¡rios para o lanÃ§amento do novo website Itaicy, alinhado ao contrato vigente e ao Design System entregue. Quaisquer ajustes de escopo ou tecnologia devem ser formalizados via Termo Aditivo conforme clÃ¡usula contratual.


Fontes




VocÃª disse:
FaÃ§a prompts em sprints do projeto separados para a equipe de design UI/UX e para a equipe de desenvolvimento.


O ChatGPT disse:

Pensou por 23 segundos
Abaixo estÃ£o dois conjuntos de prompts â€” um para a squad UI/UX e outro para a squad DEV.
Cada prompt jÃ¡ vem no formato â€œpronto-para-colarâ€ no Jira / Linear / Trello, organizado em sprints quinzenais e com critÃ©rios de aceite claros.

ğŸ“ SQUAD UI/UX
(5 sprints de 2 semanas â€” total 10 semanas)

Sprint 0 â€” Kick-off & imersÃ£o (D0-D5)
Prompt para o board

vbnet
Copiar
Editar
OBJETIVO: entender negÃ³cio, usuÃ¡rios e restriÃ§Ãµes tÃ©cnicas do novo site Itaicy.
â€¢ Revisar dossiÃª contratual + Research do Pantanal  
â€¢ Mapear personas (Pescador, Ecoturista, FamÃ­lia) â†’ Empathy Map  
â€¢ Reunir dados de analytics do site antigo (bounce, heatmap)  
â€¢ Workshop remoto 2 h com PO p/ validar visÃ£o & KPIs  
ENTREGAS: mural de insights + User-Flows alto nÃ­vel (Figma).  
CRITÃ‰RIOS DE ACEITE: persona sheet validado pelo PO; fluxos cobrem as 3 journeys principais.  
DEPENDÃŠNCIA: acesso GA4 do site atual.
Sprint 1 â€” Moodboard & Style-tile (D5-D15)
yaml
Copiar
Editar
OBJETIVO: cristalizar diretriz visual â€” â€œPantanal autÃªntico + luxo boutiqueâ€.
â€¢ Colecionar refs visuais (Nihi Sumba, Newmark/Motswari)  
â€¢ Aplicar cores & tipografia jÃ¡ aprovadas no Design System v1  
â€¢ Deliver â€˜Style-tileâ€™ com tokens: cores, type scale, Ã­cones, UI samples  
â€¢ Definir motion primitives (easing, duraÃ§Ã£o)  
ENTREGAS: 1 pÃ¡gina Figma â€˜Moodboardâ€™, 1 pÃ¡gina â€˜Style-tileâ€™ linkada.  
ACEITE: PO dÃ¡ ğŸ‘ nos tokens; contraste AA verificado; exportaÃ§Ã£o .PDF p/ dev.  
Sprint 2 â€” IA & Wireframes Low-Fi (D15-D25)
vbnet
Copiar
Editar
OBJETIVO: estruturar navegaÃ§Ã£o de atÃ© 7 itens de menu.
â€¢ Card-Sort + Ã¡rvore de decisÃ£o â†’ Sitemap definitivo  
â€¢ Wireframes cinza (desktop/tablet/mobile) p/ 7 templates: Home, Lodge, ExperiÃªncias-Listing, Pacote Detail, Galeria, Blog List, Post  
â€¢ Incluir posiÃ§Ã£o do Booking Widget sticky  
ENTREGAS: Flow + 7 wireframes B&W (FigJam â†’ Figma).  
ACEITE: dev confirma viabilidade; todos wireframes linkados ao user-flows.  
Sprint 3 â€” Hi-Fi Prototype & Micro-interaÃ§Ãµes (D25-D35)
vbnet
Copiar
Editar
OBJETIVO: protÃ³tipo navegÃ¡vel com brand completo.
â€¢ Aplicar Design System nos wireframes â†’ hi-fi screens  
â€¢ Criar componentes: Navbar, Hero, Cards, Accordion, Gallery Lightbox, Booking Widget placeholder  
â€¢ Framer-Motion spec (json table) p/ cada componente  
ENTREGAS: Prototype Figma (desktop + mobile) com hotspot map.  
ACEITE: 95 % dos tokens usados corretamente; hand-off Zeplin / Figma Inspect ok; vÃ­deo demo 60 s.  
Sprint 4 â€” Usability Test & IteraÃ§Ã£o Final (D35-D45)
pgsql
Copiar
Editar
OBJETIVO: validar UX com usuÃ¡rios-alvo.
â€¢ Recrutar 5 pescadores + 5 ecoturistas (remoto)  
â€¢ Tasks: encontrar preÃ§o, iniciar reserva, achar polÃ­tica de cancelamento  
â€¢ MÃ©tricas: SUS score â‰¥ 80, Ãªxito tarefa â‰¥ 80 %  
â€¢ Iterar telas conforme feedback crÃ­tico (P1/P2).  
ENTREGAS: RelatÃ³rio teste + screens atualizadas.  
ACEITE: PO aprova; dev recebe protÃ³tipo final â€œdesign-freezeâ€.  
ğŸ’» SQUAD DEV
(6 sprints de 2 semanas â€” total 12 semanas; corre em paralelo, defasado 1 sprint de UI/UX)

Sprint 0 â€” Setup & Infra (D0-D5)
pgsql
Copiar
Editar
OBJETIVO: preparar fundaÃ§Ã£o tÃ©cnica.
â€¢ Criar repositÃ³rio GitHub + branch workflow trunk-based  
â€¢ Provisionar Supabase project (org Itaicy) + configure RLS templates  
â€¢ Set Vercel project + env vars skeleton (.env.example)  
â€¢ Add CI (ESLint, Prettier, Type-check)  
ACEITE: build verde; Supabase tables â€œpages, mediaâ€ migradas; preview Vercel up.  
Sprint 1 â€” CMS Core & Auth (D5-D15)
pgsql
Copiar
Editar
OBJETIVO: CRUD bÃ¡sico de conteÃºdo.
â€¢ Define DB schema via `supabase-migrations` (pages, packages, media, leads, i18n)  
â€¢ Implement Supabase Auth (email-magic-link) roles: admin/editor/translator  
â€¢ Build `/admin` shell with shadcn/ui + route guards  
â€¢ Storage bucket `media` + signed URLs  
ACEITE: criar/editar pÃ¡gina funciona; RLS impede anon write; unit tests pass.  
Sprint 2 â€” Public Site Skeleton & Design Tokens (D15-D25)
csharp
Copiar
Editar
OBJETIVO: entregar layout bÃ¡sico conectado ao CMS.
â€¢ Integrar Tailwind theme (colors, radius, spacing) ==> DS tokens  
â€¢ Layout base: Navbar, footer, i18n middleware  
â€¢ Static props via Supabase (ISR 60 min)  
â€¢ Home & 404 fully responsive  
ACEITE: Lighthouse perf â‰¥ 90; nav sticky OK; lang switch swaps JSON.  
Sprint 3 â€” Booking Widget & Key Pages (D25-D35)
pgsql
Copiar
Editar
OBJETIVO: funcionalidade de reserva ponta-a-ponta.
â€¢ Component `BookingWidget` (range picker, adults/kids)  
â€¢ Edge Fn records temp booking, redirects to external engine  
â€¢ Templates: Lodge, ExperiÃªncias-Listing, Pacote Detail (prices from packages table)  
â€¢ Analytics event GA4 on start_booking  
ACEITE: QA inputs dates â†’ URL correta; data persists in `bookings_temp`.  
Sprint 4 â€” Blog, Galeria & SEO (D35-D45)
pgsql
Copiar
Editar
OBJETIVO: conteÃºdo dinÃ¢mico + discoverability.
â€¢ MDX loader (next-mdx-remote) for blog posts stored in Supabase  
â€¢ Gallery masonry pulling from Storage; lightbox SWR  
â€¢ Generate sitemap.xml & rss.xml nightly via Edge Fn cron  
â€¢ Add JSON-LD (Hotel, FAQ)  
ACEITE: Google Rich-Results test passes; blog post loads <1.5 s (TTFB + render).  
Sprint 5 â€” Perf, A11y & PWA (D45-D55)
vbnet
Copiar
Editar
OBJETIVO: harden app for launch.
â€¢ Lazy-load hero video, convert to AVIF fallback poster  
â€¢ Core-Web-Vitals tuning (images, font-preload, next/script)  
â€¢ A11y sweep (axe-ci) â†‘ 95 score  
â€¢ Add manifest + service-worker (offline shell)  
ACEITE: LCP â‰¤2.5 s on 3G; a11y automated issues = 0 critical.  
Sprint 6 â€” QA, Staging & Launch (D55-D60)
vbnet
Copiar
Editar
OBJETIVO: preparar produÃ§Ã£o e hand-off.
â€¢ Playwright e2e: flow reserva, flow blog, flow 404  
â€¢ UAT with PO â€“ capture sign-off checklist  
â€¢ Set up staging -> prod promotion; backup strategy Supabase  
â€¢ DNS cut-over, monitor Sentry for 48h  
ACEITE: Zero blocker bugs; PO email de â€œgoâ€; post-launch Lighthouse â‰¥ 90/90/90/100.  