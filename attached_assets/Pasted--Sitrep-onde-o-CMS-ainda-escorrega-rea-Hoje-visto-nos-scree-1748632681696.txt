### ğŸ“Š Sitrep â€” onde o CMS ainda â€œescorregaâ€

| Ãrea                       | Hoje (visto nos screenshots)                                                                                                                   | Gargalo para o time Itaicy                                           |
| -------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------- |
| **NavegaÃ§Ã£o**              | Sidebar mostra pÃ¡ginas & â€œFerramentasâ€ misturadas. Trocar de â€œPÃ¡gina Inicial > ConteÃºdoâ€ para â€œPÃ¡gina Inicial > SEOâ€ exige 2 cliques + scroll. | Carga cognitiva alta â†’ erro de contexto (â€œonde estou mexendo?â€).     |
| **Blocos de conteÃºdo**     | Lista vertical sem mini-preview; ordem via botÃ£o â€œAdicionar Blocoâ€ (top-right) mas nÃ£o Ã© possÃ­vel arrastar.                                    | DifÃ­cil visualizar a pÃ¡gina como o visitante vÃª; reorder demorado.   |
| **Campos de ediÃ§Ã£o**       | Campos genÃ©ricos (TÃ­tulo / SubtÃ­tulo / URL vÃ­deo) mudam conforme bloco, mas nÃ£o hÃ¡ **hints**, contador de caracteres ou validaÃ§Ã£o de imagem.   | Risco de quebrar layout (ex.: tÃ­tulo gigante) ou subir vÃ­deo >10 MB. |
| **Biblioteca de mÃ­dia**    | Menu existe, mas fluxo nÃ£o mostrado (parece abrir nova tela). Nos blocos a URL ainda aparece em texto.                                         | Editor nÃ£o percebe se jÃ¡ hÃ¡ imagem no bucket, nem vÃª preview.        |
| **SEO**                    | Aba separada, mas ediÃ§Ã£o nÃ£o puxa automaticamente imagem OG nem slug; keywords Ã© campo texto â€œsoltoâ€.                                          | Metadados inconsistentes; mais trabalho manual.                      |
| **Feedback de salvamento** | BotÃ£o â€œSalvarâ€ dentro do bloco, mas sem snackbar ou auto-reload.                                                                               | Incerteza se realmente publicou.                                     |
| **Roles / Workflow**       | NÃ£o aparece status Draft / Review / Published.                                                                                                 | Sem trilha de auditoria â†’ medo de publicar direto em produÃ§Ã£o.       |

---

## ğŸ”§ MudanÃ§as recomendadas (UX + Produto)

### 1. Arquitetura & NavegaÃ§Ã£o

| MudanÃ§a                                                        | Como                                                        | BenefÃ­cio                               |
| -------------------------------------------------------------- | ----------------------------------------------------------- | --------------------------------------- |
| **Separar claramente** â€œPÃ¡ginasâ€ â‡¢ â€œColeÃ§Ãµesâ€ â‡¢ â€œConfiguraÃ§Ã£oâ€ | Three-pane layout: â‘  Site Map, â‘¡ Block Canvas, â‘¢ Properties | UsuÃ¡rio sempre sabe onde estÃ¡ editando. |
| **Breadcrumb dinÃ¢mico**                                        | ex. *Home â€º Hero Blockâ€‚â€º VÃ­deo*                             | Contexto persistente, reduz cliques.    |

### 2. Page Canvas visual

* **Preview thumbnail** em cada bloco (auto-screenshot da seÃ§Ã£o ou Ã­cone + label).
* **Drag-and-drop** reorder (use `@dnd-kit`) â€“ drop-zones mostram spacing tokens.
* **Inline â€œ+â€ inserÃ§Ã£o** entre blocos, com menu de tipos (Hero, Gallery, Stats, FAQâ€¦).

### 3. EdiÃ§Ã£o assistida

* Modal / side panel com **field-level helpers**:

  * TÃ­tulo (contagem 0 / 60 chars)
  * Rich-text `Tiptap` w/ slash commands for bullets, bold.
  * **Media picker**: botÃ£o â€œSelecionar da Bibliotecaâ€ ou â€œUploadâ€.
* **Guards**: upload â‰¤ 8 MB, dimensÃµes mÃ­n. 1920 px, alt-text requerido.

### 4. Biblioteca de MÃ­dia de verdade

| Funcionalidade                                         | Detalhe                                                                       |
| ------------------------------------------------------ | ----------------------------------------------------------------------------- |
| Grid gallery com filtros (imagens / vÃ­deos / docs)     | Carrega do bucket Supabase via signed URL                                     |
| Lado direito: preview & meta (size, type, usage count) | Mostra onde a mÃ­dia estÃ¡ usada (ref-tracking table)                           |
| Transform on insert                                    | Escolhe focal point, crop, qualidade; backend gera variantes `webp` + `avif`. |

### 5. SEO in-context

* Aba â€œSEOâ€ **dentro** do modal da pÃ¡gina (mesmos campos) â€“ quando salva, atualiza `page.seo` JSON.
* **Autofill** slug, canonical & OG image (Ãºltima imagem do bloco hero, mas pode sobrescrever).
* Live **Google snippet preview** (title + description).

### 6. Workflow & Roles

| Papel   | PermissÃ£o           | UI feedback                                   |
| ------- | ------------------- | --------------------------------------------- |
| Editor  | Criar/editar Draft  | Badge â€œRascunhoâ€ nos blocos/pÃ¡ginas           |
| Revisor | Mudar para â€œReviewâ€ | BotÃ£o â€œEnviar para aprovaÃ§Ã£oâ€                 |
| Admin   | Publicar            | BotÃ£o â€œPublicarâ€ + toast â€œPÃ¡gina publicada âœ”â€ |

Audit-log table (`action`, `user`, `entity`, `before`, `after`).

### 7. Feedback & performance

* Global snackbar (â€œAlteraÃ§Ãµes salvasâ€, â€œErro de validaÃ§Ã£oâ€).
* Optimistic UI â†’ revalidaÃ§Ã£o no background; fallback toasts se falhar.
* Skeleton loaders nas listas para evitar â€œtela vaziaâ€.

---

## ğŸ“‹ Backlog de tarefas (priorizado)

| ID           | Tarefa                                                       | Owner | Pts |
| ------------ | ------------------------------------------------------------ | ----- | --- |
| **NAV-01**   | Refatorar layout para 3-pane (SiteMap / Canvas / Properties) | FE    | 5   |
| **BLK-01**   | Implementar Block drag-and-drop + preview thumbnails         | FE    | 8   |
| **MEDIA-01** | Media Library component (grid, upload, meta)                 | FE+BE | 8   |
| **MEDIA-02** | Supabase Edge Function gerar variantes & blurhash            | BE    | 5   |
| **EDIT-01**  | Properties panel com validation helpers + media picker       | FE    | 5   |
| **SEO-01**   | SEO panel in-context + snippet preview                       | FE    | 3   |
| **WF-01**    | Status enum + RLS policies + audit\_log                      | BE    | 5   |
| **UX-01**    | Snackbar + optimistic save hooks                             | FE    | 3   |
| **QA-01**    | Usability test script + SUS scoring                          | PM/UX | 2   |

*Total â‰ˆ 44 pts (â‰ˆ 4.5 weeks).*

---

## ğŸŒŸ Resultado esperado

* **Time Itaicy edita pÃ¡gina completa em < 2 min.** (medido em teste).
* Zero URLs quebradas; todas imagens servidas otimamente.
* SEO fields completos diretamente no fluxo de ediÃ§Ã£o.
* ConteÃºdo publicado passa por workflow â€“ seguranÃ§a e rastreabilidade.
* UX score > 80/100 â†’ adoÃ§Ã£o sem dependÃªncia do dev.

Implementando essas mudanÃ§as o CMS deixa de ser â€œformulÃ¡rio com abasâ€ e vira **ferramenta editorial moderna**, comparÃ¡vel a Webflow ou Sanity, mas 100 % no stack Supabase/React que jÃ¡ temos.
